# Kubernetes 4.1

–¶–µ —à–∞–±–ª–æ–Ω –¥–ª—è Kubernetes/4.1.

–¢–∞–∫, —Ü–µ–π —Ñ–∞–π–ª –≤–∂–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π Rolling Update –ø—Ä–∏ –∑–º—ñ–Ω—ñ Docker-–æ–±—Ä–∞–∑—É, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —Ç–∏–ø–æ–≤–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ Kubernetes Deployment. –ó–º—ñ–Ω–∞ –ø–æ–ª—è image (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, myapp:v2) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –ø—Ä–æ—Ü–µ—Å rolling update, –ø—ñ–¥ —á–∞—Å —è–∫–æ–≥–æ –Ω–æ–≤—ñ –ø–æ–¥–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è, –∞ —Å—Ç–∞—Ä—ñ –ø–æ—Å—Ç—É–ø–æ–≤–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –±–µ–∑ –ø—Ä–æ—Å—Ç–æ—é.

‚öôÔ∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ñ–∞–π–ª deployment.yaml?
–ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
kubectl apply -f deployment.yaml
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
kubectl rollout status deployment/myapp



üõ† –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?
Deployment –∫–æ–Ω—Ç—Ä–æ–ª—é—î –ø–æ–¥–∏ —ñ —Ä–µ–ø–ª—ñ–∫–∏.

–ü—Ä–∏ –∑–º—ñ–Ω—ñ –æ–±—Ä–∞–∑—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, image: myapp:latest ‚Üí myapp:v2) –∞–±–æ —ñ–Ω—à–æ—ó —á–∞—Å—Ç–∏–Ω–∏ —à–∞–±–ª–æ–Ω—É –ø–æ–¥–∞, Kubernetes:

—Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—ñ –ø–æ–¥–∏ –∑ –Ω–æ–≤–∏–º –æ–±—Ä–∞–∑–æ–º,

–ø–æ—Å—Ç—É–ø–æ–≤–æ –≤–∏–¥–∞–ª—è—î —Å—Ç–∞—Ä—ñ (Rolling Update),

—Å–ª—ñ–¥–∫—É—î, —â–æ–± –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –ø–æ–¥—ñ–≤ –Ω–µ –≤–ø–∞–ª–∞ –Ω–∏–∂—á–µ maxUnavailable (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 1).

–ö–æ–º–∞–Ω–¥–∞ kubectl rollout status –ø–æ–∫–∞–∑—É—î –ø—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

–ü—Ä–∏–º—ñ—Ç–∫–∞: –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç–µ–≥ latest, Kubernetes –º–æ–∂–µ –Ω–µ –ø–æ–º—ñ—Ç–∏—Ç–∏ –∑–º—ñ–Ω—É –æ–±—Ä–∞–∑—É. –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Ç–µ–≥—É–≤–∞—Ç–∏ –æ–±—Ä–∞–∑–∏ –∑ –≤–µ—Ä—Å—ñ—î—é (myapp:v1, myapp:v2) –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ imagePullPolicy: Always.